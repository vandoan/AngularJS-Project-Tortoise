<!--  	chapter 2 - ng-repeat track by id - page 30 	-->

<html ng-app="notesApp">
	<head> 
		<title>Notes App</title> 

		<body ng-controller="MainCtrl as ctrl">

			<button ng-click="ctrl.changeNotes()">Change Notes</button>
			<br/>
			DOM Elements change every time someone clicks
			<div ng-repeat="note in ctrl.notes1">
				{{note.$$hashKey}}
				<span class="label"> {{note.label}}</span>
				<span class="author" ng-bind="note.done"></span>
			</div>

			<br/>

			DOM Elements are reused every time somenone clicks
			<div ng-repeat="note in ctrl.notes2 track by note.id">
				{{note.$$hashKey}}
				<span class="label"> {{note.label}}</span>
				<span class="author" ng-bind="note.done"></span>
			</div>


			<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

			<script type="text/javascript">
// the $$hashKey as a unique tracking number to the element

				angular.module('notesApp', [])
					.controller('MainCtrl',[function(){
						
						var self = this;
						var notes = [

							{
								id: 1, 	
								label: 'First Note', 	
								done: true, 
								someRandom: 31431,
							},
							{
								id: 2, 	
								label: 'Second Note', 
								done: false, 
								someRandom: 31452,
							},
							{
								id: 3, 	
								label: 'Done Note', 
								done: true, 
								someRandom: 31435,
							},

						];

						self.notes1 = angular.copy(notes);
						self.notes2 = angular.copy(notes);
						self.changeNotes = function() {
							notes = [
								{
									id: 1,
									label: 'Changed Note', 
									done: false, 
									someRandom: 31827,
								},
								{
									id: 2,
									label: 'Second Note', 
									done: false, 
								},
								{
									id: 3,
									label: 'Finished Third Note', 
									done: true, 
								},
							];

							self.notes1 = angular.copy(notes);
							self.notes2 = angular.copy(notes);
						};
					}]);
			</script>

		</body>

	</head>
</html>
